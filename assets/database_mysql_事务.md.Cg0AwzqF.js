import{_ as a,c as i,o as t,ag as e}from"./chunks/framework.DPDPlp3K.js";const l="/assets/Pasted%20image%2020240220192803.D77WA55t.png",n="/assets/Pasted%20image%2020240220194453.aA3ZOB2d.png",p="/assets/Pasted%20image%2020240220195222.DTYt2CoT.png",b=JSON.parse('{"title":"事务操作","description":"","frontmatter":{},"headers":[],"relativePath":"database/mysql/事务.md","filePath":"database/mysql/事务.md"}'),h={name:"database/mysql/事务.md"};function o(d,s,r,c,k,g){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="事务操作" tabindex="-1">事务操作 <a class="header-anchor" href="#事务操作" aria-label="Permalink to &quot;事务操作&quot;">​</a></h1><p>查看是否自动提交(1 自动 | 0 手动)</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@autocommit</span></span></code></pre></div><p>设置为手动提交(不建议开启,需要的时候手动开启事务即可)</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@autocommit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><p>开启事务</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">start transaction</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">或</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span></code></pre></div><p>提交当前事务</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">commit</span></span></code></pre></div><p>回滚当前事务</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">rollback</span></span></code></pre></div><h1 id="事务特性-acid" tabindex="-1">事务特性(ACID) <a class="header-anchor" href="#事务特性-acid" aria-label="Permalink to &quot;事务特性(ACID)&quot;">​</a></h1><p><img src="`+l+'" alt=""></p><h1 id="事务并发" tabindex="-1">事务并发 <a class="header-anchor" href="#事务并发" aria-label="Permalink to &quot;事务并发&quot;">​</a></h1><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><p><img src="'+n+'" alt=""></p><h2 id="隔离级别" tabindex="-1">隔离级别 <a class="header-anchor" href="#隔离级别" aria-label="Permalink to &quot;隔离级别&quot;">​</a></h2><p>事务隔离级别</p><ul><li>read uncommitted <strong>读未提交</strong>,能读到其他事务未提交的数据</li><li>read committed <strong>读已提交</strong>,只能读到提交的数据,但是会导致<strong>不可重复读</strong></li><li>repeatable read <strong>可重复读</strong>,在当前事务中,不会读到其他事务提交的数据,读到的所有数据都不会改变</li><li>serializable <strong>串行化</strong>,当前事务中,其他事务操作会阻塞直到当前事务commit</li></ul><p><img src="'+p+'" alt=""></p><h6 id="查看事务隔离级别" tabindex="-1">查看事务隔离级别 <a class="header-anchor" href="#查看事务隔离级别" aria-label="Permalink to &quot;查看事务隔离级别&quot;">​</a></h6><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@transaction_isolation;</span></span></code></pre></div><h6 id="设置事务隔离级别" tabindex="-1">设置事务隔离级别 <a class="header-anchor" href="#设置事务隔离级别" aria-label="Permalink to &quot;设置事务隔离级别&quot;">​</a></h6><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [session|global] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transaction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> isolation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [read uncommitted | read committed | repeatable read | serializable]</span></span></code></pre></div><ul><li>session 当前会话</li><li>global 全局</li></ul>',25)]))}const m=a(h,[["render",o]]);export{b as __pageData,m as default};
